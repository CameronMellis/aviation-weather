import{c as w,j as t,T as u,a as F,P as G,b as R,d as n,e as B,f as A,g as x,h,i as Z,r as l,B as g,k as U,l as c,m as k,n as d,o as M,F as S,p as v,u as I,q as P,G as D,O as H,R as Q,s as O,t as W,v as z,w as m}from"./vendor.53ebb1dd.js";const K=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))p(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&p(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function p(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}};K();const V=w({palette:{type:"dark"}});function E({flightRules:a}){let e="#616161";return a==="VFR"?e="green":a==="MVFR"?e="#8bc34a":a==="IFR"?e="yellow":a==="LIFR"&&(e="red"),n(h,{sx:{fontSize:15,fontWeight:"bold",backgroundColor:e},align:"center",children:[" ",a]})}function $(a){return t(u,{theme:V,children:t(F,{sx:{fontSize:"15px",backgroundColor:"#616161"},component:G,className:"Table",children:t(R,{variant:"body1",component:"div",gutterBottom:!0,children:n(B,{size:"small","aria-label":"a dense table",children:[t(A,{children:n(x,{sx:{backgroundColor:"#616161"},children:[t(h,{sx:{fontSize:15,fontWeight:"bold",backgroundColor:"#616161"},align:"center",children:"Flight Rules"}),t(h,{sx:{fontSize:15,fontWeight:"bold"},align:"left",children:"METAR/TAF"})]})}),t(Z,{children:a.data.map(e=>n(x,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[t(E,{flightRules:e.flight_rules}),t(h,{sx:{fontSize:16,fontWeight:"medium",backgroundColor:"#8e8e8e"},align:"left",children:e.raw.replace(/BECMG|FM[0-9]*/g,r=>`
${r}`)})]},e.raw))})]})})})})}function j({onSelect:a}){const[e,r]=l.exports.useState(0);return t(g,{elevation:3,children:n(U,{sx:{height:45},showLabels:!0,value:e,onChange:s=>{r(s)},children:[t(c,{label:"Refresh",onClick:()=>{window.location.reload()},icon:t(k,{})}),t(c,{label:"YYT",onClick:()=>{a("/YYT")},icon:t(d,{})}),t(c,{label:"YUL",onClick:()=>{a("/YUL")},icon:t(d,{})}),t(c,{label:"YHZ",onClick:()=>{a("/YHZ")},icon:t(d,{})})]})})}const f=a=>{switch(a){case"YYT":case"YHZ":return"gfacn34";case"YUL":return"gfacn33";default:throw new Error("Invalid airport code")}},Y=(a,e,r)=>`https://flightplanning.navcanada.ca/Latest/gfa/anglais/produits/uprair/gfa/${a}/Latest-${a}_${e}_${r}.png`;function b({location:a}){const[e,r]=l.exports.useState("006");return n(S,{children:[t("div",{className:"GFAcontainer",children:t("img",{className:"GFA",id:"GfaClouds",src:Y(f(a),"cldwx",e),alt:"GFA"})}),n(g,{sx:{alignItems:"center",display:"flex"},children:[t(v,{sx:{m:1,ml:15,mr:3,width:150},className:"Buttons",variant:"contained",size:"small",onClick:()=>{r("000")},children:"Previous 6HR"}),t(v,{sx:{m:1,mr:3,width:150},className:"Buttons",variant:"contained",size:"small",onClick:()=>{r("006")},children:"CURRENT"}),t(v,{sx:{m:1,width:150},className:"Buttons",variant:"contained",size:"small",onClick:()=>{r("012")},children:"Next 6HR"})]}),t("div",{className:"GFAcontainer",children:t("img",{className:"GFA",id:"GfaIcing",src:Y(f(a),"turbc",e),alt:"GFA Icing and Turbulence"})})]})}b.propTypes={location:M.string.isRequired};const J=a=>{switch(a){case"YYT":return["https://avwx.rest/api/metar/CYYT","https://avwx.rest/api/taf/CYYT","https://avwx.rest/api/metar/CYQX","https://avwx.rest/api/taf/CYQX","https://avwx.rest/api/metar/CYDF","https://avwx.rest/api/taf/CYDF","https://avwx.rest/api/metar/CYJT","https://avwx.rest/api/taf/CYJT","https://avwx.rest/api/metar/CYAY","https://avwx.rest/api/taf/CYAY","https://avwx.rest/api/metar/CYYR","https://avwx.rest/api/taf/CYYR","https://avwx.rest/api/metar/CZUM","https://avwx.rest/api/taf/CZUM","https://avwx.rest/api/metar/CYWK","https://avwx.rest/api/taf/CYWK","https://avwx.rest/api/metar/CYDP","https://avwx.rest/api/taf/CYDP","https://avwx.rest/api/metar/CYNA","https://avwx.rest/api/taf/CYNA","https://avwx.rest/api/metar/CYKL","https://avwx.rest/api/taf/CYKL"];case"YUL":return["https://avwx.rest/api/metar/CYUL","https://avwx.rest/api/taf/CYUL","https://avwx.rest/api/metar/CYQB","https://avwx.rest/api/taf/CYQB","https://avwx.rest/api/metar/CYHU","https://avwx.rest/api/taf/CYHU","https://avwx.rest/api/metar/CYMX","https://avwx.rest/api/taf/CYMX","https://avwx.rest/api/metar/CYRQ","https://avwx.rest/api/taf/CYRQ","https://avwx.rest/api/metar/CYOW","https://avwx.rest/api/taf/CYOW","https://avwx.rest/api/metar/CYND","https://avwx.rest/api/taf/CYND","https://avwx.rest/api/metar/CYYZ","https://avwx.rest/api/taf/CYYZ","https://avwx.rest/api/metar/CYVO","https://avwx.rest/api/taf/CYVO","https://avwx.rest/api/metar/CYUY","https://avwx.rest/api/taf/CYUY","https://avwx.rest/api/metar/CYBG","https://avwx.rest/api/taf/CYBG","https://avwx.rest/api/metar/CYBC","https://avwx.rest/api/taf/CYBC","https://avwx.rest/api/metar/CYGR","https://avwx.rest/api/taf/CYGR","https://avwx.rest/api/metar/CYGP","https://avwx.rest/api/taf/CYGP","https://avwx.rest/api/metar/CYGV","https://avwx.rest/api/taf/CYGV","https://avwx.rest/api/metar/CYWK","https://avwx.rest/api/taf/CYWK","https://avwx.rest/api/metar/CZUM","https://avwx.rest/api/taf/CZUM","https://avwx.rest/api/metar/CYZV","https://avwx.rest/api/taf/CYZV","https://avwx.rest/api/metar/CYKL","https://avwx.rest/api/taf/CYKL"];case"YHZ":return["https://avwx.rest/api/metar/CYHZ","https://avwx.rest/api/taf/CYHZ","https://avwx.rest/api/metar/CYQM","https://avwx.rest/api/taf/CYQM","https://avwx.rest/api/metar/CYYG","https://avwx.rest/api/taf/CYYG","https://avwx.rest/api/metar/CYFC","https://avwx.rest/api/taf/CYFC","https://avwx.rest/api/metar/CZBF","https://avwx.rest/api/taf/CZBF","https://avwx.rest/api/metar/CYQY","https://avwx.rest/api/taf/CYQY","https://avwx.rest/api/metar/CYSJ","https://avwx.rest/api/taf/CYSJ","https://avwx.rest/api/metar/CYQI","https://avwx.rest/api/taf/CYQI"];default:throw new Error("Invalid Location")}},X=a=>{const[e,r]=l.exports.useState(!1),[p,s]=l.exports.useState([]);return l.exports.useEffect(()=>{r(!0),(async()=>{const o={headers:{Authorization:"UoCyZ0DYZP9cMI2IxUJNoLWTrsxvorXAuAwrvGjjZYg"}},T=J(a),L=await Promise.all(T.map(N=>fetch(N,o).then(y=>y.json())));r(!1),s(L)})()},[a]),{avwx:p,isLoading:e}};function _(){return t("div",{className:"spinner-container",children:t("div",{className:"loading-spinner"})})}const q=w({palette:{mode:"dark"}});function C(){var i;const e=(i=I().location)!=null?i:"YYT",{avwx:r,isLoading:p}=X(e),s=P();return t(u,{theme:q,children:n(D,{sx:{display:"flex",flexDirection:"column",height:"100vh"},children:[n("div",{className:"App",children:[p?t(_,{}):t($,{className:"Table",data:r}),t(b,{location:e})]}),t(j,{onSelect:o=>s(o)}),t(H,{})]})})}Q.render(n(O.StrictMode,{children:[t(W,{children:n(z,{children:[t(m,{path:"/",element:t(C,{})}),t(m,{path:"/:location",element:t(C,{})})]})}),","]}),document.getElementById("root"));
