import{c as C,j as t,T as u,a as y,P as B,b as F,d as n,e as G,f as A,g as v,h,i as M,r as l,B as g,k as U,l as c,m as d,n as k,o as S,F as Z,p as m,u as I,q as H,G as P,O as D,R as Q,s as W,t as z,v as O,w as f}from"./vendor.954c9281.js";const V=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))p(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&p(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function p(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}};V();const K=C({palette:{type:"dark"}});function E({flightRules:a}){let e="#616161";return a==="VFR"?e="green":a==="MVFR"?e="#039be5":a==="IFR"?e="red":a==="LIFR"&&(e="magenta"),n(h,{sx:{fontSize:18,fontWeight:"bold",backgroundColor:e},align:"center",children:[" ",a]})}function $(a){return t(u,{theme:K,children:t(y,{sx:{fontSize:"20px",backgroundColor:"#616161"},component:B,className:"Table",children:t(F,{variant:"body1",component:"div",gutterBottom:!0,children:n(G,{size:"small","aria-label":"a dense table",children:[t(A,{children:n(v,{sx:{backgroundColor:"#616161"},children:[t(h,{sx:{fontSize:18,fontWeight:"bold",backgroundColor:"#616161"},align:"left",children:"Flight Rules"}),t(h,{sx:{fontSize:18,fontWeight:"bold"},align:"left",children:"METAR/TAF"})]})}),t(M,{children:a.data.map(e=>n(v,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[t(E,{flightRules:e.flight_rules}),t(h,{sx:{fontSize:18,fontWeight:"medium",backgroundColor:"#8e8e8e"},align:"left",children:e.raw.replace(/BECMG|FM[0-9]*/g,i=>`
${i}`)})]},e.raw))})]})})})})}function _({onSelect:a}){const[e,i]=l.exports.useState(0),p=s=>{const r=window.open(s,"_blank","noopener,noreferrer");r&&(r.opener=null)};return t(g,{elevation:2,children:n(U,{sx:{position:"fixed",bottom:0,left:0,right:0},showLabels:!0,value:e,onChange:s=>{i(s)},children:[t(c,{label:"YYT",onClick:()=>{a("/YYT")},icon:t(d,{})}),t(c,{label:"YUL",onClick:()=>{a("/YUL")},icon:t(d,{})}),t(c,{label:"YHZ",onClick:()=>{a("/YHZ")},icon:t(d,{})}),t(c,{label:"Read Me",onClick:()=>p("https://github.com/CameronMellis/aviation-weather#readme"),icon:t(k,{})})]})})}const x=a=>{switch(a){case"YYT":case"YHZ":return"gfacn34";case"YUL":return"gfacn33";default:throw new Error("Invalid airport code")}},w=(a,e,i)=>`https://flightplanning.navcanada.ca/Latest/gfa/anglais/produits/uprair/gfa/${a}/Latest-${a}_${e}_${i}.png`;function b({location:a}){const[e,i]=l.exports.useState("006");return n(Z,{children:[t("div",{className:"GFAcontainer",children:t("img",{className:"GFA",id:"GfaClouds",src:w(x(a),"cldwx",e),alt:"GFA"})}),n(g,{sx:{alignItems:"center",display:"flex"},children:[t(m,{sx:{m:1,ml:15,mr:3,width:160},className:"Buttons",variant:"contained",size:"small",onClick:()=>{i("000")},children:"Previous 6HR"}),t(m,{sx:{m:1,mr:3,width:160},className:"Buttons",variant:"contained",size:"small",onClick:()=>{i("006")},children:"CURRENT"}),t(m,{sx:{m:1,width:160},className:"Buttons",variant:"contained",size:"small",onClick:()=>{i("012")},children:"Next 6HR"})]}),t("div",{className:"GFAcontainer",children:t("img",{className:"GFA",id:"GfaIcing",src:w(x(a),"turbc",e),alt:"GFA Icing and Turbulence"})})]})}b.propTypes={location:S.string.isRequired};const j=a=>{switch(a){case"YYT":return["https://avwx.rest/api/metar/CYYT","https://avwx.rest/api/taf/CYYT","https://avwx.rest/api/metar/CYQX","https://avwx.rest/api/taf/CYQX","https://avwx.rest/api/metar/CYDF","https://avwx.rest/api/taf/CYDF","https://avwx.rest/api/metar/CYJT","https://avwx.rest/api/taf/CYJT","https://avwx.rest/api/metar/CYAY","https://avwx.rest/api/taf/CYAY","https://avwx.rest/api/metar/CYYR","https://avwx.rest/api/taf/CYYR","https://avwx.rest/api/metar/CZUM","https://avwx.rest/api/taf/CZUM","https://avwx.rest/api/metar/CYWK","https://avwx.rest/api/taf/CYWK","https://avwx.rest/api/metar/CYDP","https://avwx.rest/api/taf/CYDP","https://avwx.rest/api/metar/CYNA","https://avwx.rest/api/taf/CYNA","https://avwx.rest/api/metar/CYKL","https://avwx.rest/api/taf/CYKL"];case"YUL":return["https://avwx.rest/api/metar/CYUL","https://avwx.rest/api/taf/CYUL","https://avwx.rest/api/metar/CYQB","https://avwx.rest/api/taf/CYQB","https://avwx.rest/api/metar/CYHU","https://avwx.rest/api/taf/CYHU","https://avwx.rest/api/metar/CYMX","https://avwx.rest/api/taf/CYMX","https://avwx.rest/api/metar/CYRQ","https://avwx.rest/api/taf/CYRQ","https://avwx.rest/api/metar/CYOW","https://avwx.rest/api/taf/CYOW","https://avwx.rest/api/metar/CYND","https://avwx.rest/api/taf/CYND","https://avwx.rest/api/metar/CYYZ","https://avwx.rest/api/taf/CYYZ","https://avwx.rest/api/metar/CYVO","https://avwx.rest/api/taf/CYVO","https://avwx.rest/api/metar/CYUY","https://avwx.rest/api/taf/CYUY","https://avwx.rest/api/metar/CYBG","https://avwx.rest/api/taf/CYBG","https://avwx.rest/api/metar/CYBC","https://avwx.rest/api/taf/CYBC","https://avwx.rest/api/metar/CYGR","https://avwx.rest/api/taf/CYGR","https://avwx.rest/api/metar/CYGP","https://avwx.rest/api/taf/CYGP","https://avwx.rest/api/metar/CYGV","https://avwx.rest/api/taf/CYGV","https://avwx.rest/api/metar/CYWK","https://avwx.rest/api/taf/CYWK","https://avwx.rest/api/metar/CZUM","https://avwx.rest/api/taf/CZUM","https://avwx.rest/api/metar/CYZV","https://avwx.rest/api/taf/CYZV","https://avwx.rest/api/metar/CYKL","https://avwx.rest/api/taf/CYKL"];case"YHZ":return["https://avwx.rest/api/metar/CYHZ","https://avwx.rest/api/taf/CYHZ","https://avwx.rest/api/metar/CYQM","https://avwx.rest/api/taf/CYQM","https://avwx.rest/api/metar/CYYG","https://avwx.rest/api/taf/CYYG","https://avwx.rest/api/metar/CYFC","https://avwx.rest/api/taf/CYFC","https://avwx.rest/api/metar/CZBF","https://avwx.rest/api/taf/CZBF","https://avwx.rest/api/metar/CYQY","https://avwx.rest/api/taf/CYQY","https://avwx.rest/api/metar/CYSJ","https://avwx.rest/api/taf/CYSJ","https://avwx.rest/api/metar/CYQI","https://avwx.rest/api/taf/CYQI"];default:throw new Error("Invalid Location")}},J=a=>{const[e,i]=l.exports.useState([]),[p,s]=l.exports.useState(!1);return l.exports.useEffect(()=>{(async()=>{s(!0);const o={headers:{Authorization:"dB2w9VHe5mzuqKLgd9Slf5RyIg5jUv3mNV5DyWJpY4s"}},T=j(a),L=await Promise.all(T.map(N=>fetch(N,o).then(R=>R.json())));s(!1),i(L)})()},[a]),{avwx:e,isLoading:p}};function q(){return t("div",{className:"spinner-container",children:t("div",{className:"loading-spinner"})})}const X=C({palette:{mode:"dark"}});function Y(){var r;const e=(r=I().location)!=null?r:"YYT",{avwx:i,isLoading:p}=J(e),s=H();return t(u,{theme:X,children:n(P,{sx:{display:"flex",flexDirection:"column",height:"100vh"},children:[n("div",{className:"App",children:[p?t(q,{}):t($,{className:"Table",data:i}),t(b,{location:e})]}),t(_,{onSelect:o=>s(o)}),t(D,{})]})})}Q.render(n(W.StrictMode,{children:[t(z,{basename:"/aviation-weather",children:n(O,{children:[t(f,{path:"/",element:t(Y,{})}),t(f,{path:"/:location",element:t(Y,{})})]})}),","]}),document.getElementById("root"));
